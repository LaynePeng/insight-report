大家好。 早上好。 你能
听到我吗？   是的
。 伟大的。 这是一个好的开始。   既然
我已经送了你一些贴纸，
而且你已经喜欢我了，那么我们可以开始
我们的课程了。 如果你没有
收到贴纸，
那边还有一些。 请随意取用。
因此，
在过去一年中，我们注意到
客户与LLM的合作方式发生了重大转变
。
因此，他们不再仅仅使用这些 LLM
来生成文本，而是开始构建
像聊天机器人这样的简单解决方案。
他们期待更多。 他们正在利用
这些解决方案与包含云端以外
组件的整个生态系统进行集成
。 为什么不呢？ 甚至在
云端内部。 他们也在
处理专门的数据。 所以，这
是他们领域内的真实数据。 所以，这些
数据才能真正为你提供有价值的见解。
所以在本次课程中，我们将讨论
基石代理，并抢先了解
代理核心。 我的名字是玛丽尔·布雷托。
我来自巴西圣帕洛。 我是巴西
讲师团队的高级技术负责人，
希望您喜欢我的课程。
这就是我们的议程。 首先，我们将
讨论不同类型的
代理人。 所以，我们会讨论不同的配置类型，以及
基石代理、内联
代理、多代理协作，我这里
有一个演示给大家看。 嗯，还有如何
使用
代理和组件来协调结构工作流，以及基岩流
和代理核心。 那么，我们
开始吧。
当我们思考智能体系统时，
我们想到的不仅仅是一个单一的
组件。 我们拥有一个庞大的生态系统，
在某些方面，它与
微服务
生态系统非常相似。
所以这里至少有四个
组成部分。 这些是关键
组成部分。
首先是代理工作流程。
您的代理人将收到输入信息，
以下是代理人在
收到该输入信息后将执行的操作。 它会调用
外部工具。 它会调用
知识库。 所以这取决于
我们提示这些组件的意图。 因此，
构成我们生态系统
工具、模型、
浏览器的模块化部件，为什么不
使用网络检查外部信息，以及
为您的 Python 函数提供代码解释器呢？
对不起。 这里我们也有持续
评估框架，因为
我们执行的每一项
技术操作，不仅是在云端，而是在其他
技术领域，我们都需要
持续评估。 所以我们需要收集
我们需要的矩阵，只要这些
矩阵足够细粒度，我们就能顺利进行，
并通过反馈循环不断
改进。 那么我们先来检查这些
组成部分
。 这很简单，对吧？ 我
只有用户输入的内容。 代理
应用程序检查了输入内容，并
提供了必要的操作，
我们已收到响应。  （可选）
在右下角，我们可以放置一个参与决策的人
。 所以，需要有人来评估或
批准该代理人的离职。 但这
太简单了。
现在来看各个组件，
第一个组件是
我们将用于
推理循环的基础模型。 你
打算使用哪个型号？ 这取决于您的
具体需求。 我们有功能更
强大的复杂模型，
也有功能更直接、更简单的
模型，这是有
特定原因的。 知识基础。 所以，这就是
genai的真正价值所在。
所以，您自己的专有数据，
为什么不存储在 S3 上，或者存储在
数据库中呢？ 所以，只有真正的数据才能为
你提供你所
期望的价值。
我们必须考虑
应用程序每一个部分的安全性，就像设置护栏一样。 所以，在
这种情况下，我们将考虑
一个功能，该功能能够判断
某件事是否真的值得
由模型处理，以及模型将如何
回答这个问题。
我们将注册一些 API 和工具，
以便使用外部 API 和
上下文内存管理来执行操作。
如果我们希望
与多个代理进行协作，我们
也可以将它们连接起来，并执行
不同类型的模式。 所以我们可以
和主管代理合作。 我们可以
让多个代理并行执行
不同的任务。 这样我们就能
实现最大吞吐量。 嗯，我们可以
制定一个工作流程，规定要将操作发送给哪个代理
这里有很多可能性，
而且发展势头良好。 那么，我们该如何
构建这个过程呢？ 我们是否有需要满足的
业务需求
？ 首先接收
输入，检查意图，进行
分类，然后发送给另一个
专门的代理，或者根据
计算结果进行条件判断。
我们将通过一个关于持续评估框架的小演示来进行了解
。 因此，
我们需要提供必要的指标，
以便知道如何改进，即使有
必要改进我们的系统，
我们可以使用人工来检查，也可以
使用LLM作为评判者。
所以，人类，嗯，我们在基岩版
控制台中拥有了真相，但
真相会将你带到 Sage Maker
控制台。 好的，最后，我们
必须返回
我们期望的答案，对吧？ 所以，
我们可能正在使用向量数据库。
嗯，我们还会收集
数据库为
我们提供的各种指标，然后我们会发送
答案，评估这个答案，并继续
生命
周期中的各个环节。 我们将检查
需要改进的地方。
但这未免太简单了，对吧？
那么，让我们来看看如何构建这种
辅助功能。
第一种选择是基石代理人。   在
这里，您可以寻找单个
代理或多代理协作。
我们可以选择型号。 我们将提供
使用腰椎
功能所需的操作说明、知识基础和操作步骤。
这是一个非常完整的
生态系统，一切都得到了管理，
但
我们现在需要的是
一个内置的解决方案。 我们不需要
更高程度的定制化。
接下来是内联代理，
这里的配置是动态的。
因此，在每一次调用中，我们都会
改变参数，
例如模型、指令、
知识库或我们
将用于解决特定案例的数据，
以及与外部 API 的操作。
当我们
考虑进行实验，
或者遇到
需要根据
每次调用中提供的内容来改变某些特定情况时，这是一个非常好的方法。 招标书正文
以及核心代理机构。
Aent 核心将为您提供一个模块化的
生态系统，
您可以将
执行环境与内存分开考虑，
它与路由请求的 gator 分开，
也与身份控制分开，
但我们可以合并这些
元素来构建我们的代理系统。 所以，
在这种情况下，我们将使用
不同的框架，并选择
最适合我们的模型，即使该模型
不在 AWS 内部。
那么，让我们逐一检查每一种
代理人的可能性。
首先，管理器服务管理器
解决方案基石代理与
我们之前检查的非常相似，
首先我们来看看客户
提示，对吧？因此，将向
代理提供的说明，代理
将检查说明，将
任务分解为几个步骤
并执行逻辑。 所以，调用工具，
调用 lumba 函数，访问知识库中的数据
之后，它会观察结果，
检查这些信息是否足以
作为有价值的答案返回，
如果足够，循环结束后，它
会将结果发送给客户。
所以在这里，我们还可以查看
我们在这个生态系统中使用的组件
。 因此，我们
将使用基础模型来
与 AENTIC 系统和行动
小组合作。 接下来我们要检查的是行动小组
。 那么，模板的结构如何，
以及它是如何工作的呢？
此外，我们还拥有
进行拉格泰姆编曲的知识库。 我不
打算详细说明，因为我觉得
现在大家都知道
破布的事了。
完美的。 因此，检索一个思维导图并
生成。 因此，我们从
我们确定​​的特定位置获取数据，
然后将要
发送给
模型的提示信息添加到数据中。 因此，我们掌握了
真正对我们有价值的信息，满足了我们的特定
需求。
我们有时需要使用代码解释器来执行
代码，但 LLM 本身无法提供
我们期望的质量的代码
。 所以，当我们采用不同的
模型来实现这种执行方式时。
所以，对于特定需求来说，
内存配置更好，接下来我们要
讨论的是内存。
这里我们请一位银行助理来帮忙。
现在情况好多了，因为我们已经把各个
元素按照我们预期的方式布置在了
建筑结构中。
但请注意一点。 在我们能够
与代理人互动之前，
有人不会
轻易放过你。
首先，我们有护栏。 在我们的
银行助手应用程序中，我们有一个通用的
助手代理，我们可以
联系到他/她。 但在到达目的地之前，
护栏会检查并过滤提示。
所以，
如果可以的话，
如果……如果符合我们的具体
指示，那么代理人就会打电话通知我们
。 所以指令已经准备就绪，
接下来将
执行各项操作。 因此，内部操作使用
lambda 函数来执行
某种计算。 为什么不呢？ 这就是
我们要检查的例子。
此外，我们还可以使用此 lambda 函数
调用外部 API。
好的。
在底部的数字 5 中，
我们有知识库和
关于抹布的说明。 首先，我们有一个
S3 存储桶，里面存放着我们将要
提供给模型的文档。 但是
模型不是代理，模型也
不会搜索桶中的文档，
因为我们已经
确定要使用
向量数据库。 而且这样做
效率更高，因为
我们将得到
每个标记的数学表示。 词元
可以是一个单词。 一个词元可以是……一个单词
被拆分成一个或多个词元，或者两个词元。
这取决于你
使用的型号。 因此，这些信息被填充到
我们用作
向量数据库的开放搜索服务中，然后我们可以
使用这种方法提供信息
但我们来看看
这张幻灯片中可以看到哪些元素。
首先是护栏。
所以，护栏将是我们能在
基岩上作业的安全保障措施。 我们有
三种类型，但我们重点关注其中两种。 我们
有两种
护栏配置。 第一种是
确定性控制。
那么，蓝色的那个，它的
确定性控制是什么？ 我们正在提供一些
我们不希望在
交流中出现的词语。 所以你可以把它列成列表，或者
在控制台中输入。 我认为列清单
是最好的方法，也是更好的
方法。 所以，可能包含一些冒犯性词语，
或者一些不符合我们
合规要求的词语。
所以我们会提供这项服务。 可以
将其转入必需品桶。
我们将通过概率控制
选择一个确定的阈值来判断
什么是可接受的。 所以这里有
暴力、不当行为等类别，还有更具体的，比如
仇恨言论。
所以我们不想收到
这样的输入。 我们不想把这个发送给
我们的模特。 但为什么？ 因为
输入和输出的每个令牌都有成本
。 但如果能在流程的开始阶段就过滤掉
不必要的推销信息
，那就很好了。
在银行应用程序中，
没有必要发布仇恨言论。
哦，有时候客户
对我们提供的解决方案不太满意
。 所以或许我们可以设定一个中等的
阈值，
对吧？ 因此，超过该阈值后，这些
申请将被阻止。 因此，该
模型将不会收到这些请求。
这里也涉及到个人身份
信息 (PII) 的控制。 因此，
在某些情况下，我们需要接收个人身份信息 (
PII)。 所以，我们想要获取
某人的姓名、身份信息和电子邮件地址，但我们不想
获取这些信息。
所以我们可以在这里选择两种方案
。 我们可以阻止这种推销行为。 因此，
客户会收到一条
标准消息，内容是“我是
银行助理，我来帮助
您”，仅此而已，
或者我们可以屏蔽这类
数据。
因此，目前已经有一些类别可供
美国
和英国的文件使用。 但如果您和我一样来自另一个
社区或国家，您
也可以使用
拒绝模式进行自定义。 好的，
这里有一个我最
喜欢的概率控制功能，那就是
上下文接地检查。 我们
之前不是已经讨论过破布了吗？
在这种情况下，它将控制
抹布的质量。 因此，我们设置了一个控制措施
来检查是否已从
知识库中检索到所需信息。 因此，
检索到的信息块
与问题相符，
我们也可以建立一个阈值。
因此，如果我们需要高精度，我们会将
阈值设为最大值。 所以，
如果允许有一些
不太准确的信息，
我们可以将其设置为最小值。 为什么不呢？ 这
取决于你的意图。
另外，好的，返回的数据块是正确的
。 但
基于此，所
提供的答案是合理的。 它满足了
客户的定制需求。 所以，
在上下文基础检查中，我们有两种类型的检查
。 所以，在这种
情况下，我们考虑的不是不当行为、
仇恨言论或类似的事情
。 我们正在考虑回复的质量
现在我们来检查一下操作组。
所以，这里我们看到代理程序采用了
一些方法来调用
代理徽章内部的工具，也就是基石
代理程序。我们将首先配置
代理程序的指令。 那么
我们对这位代理人有什么期望呢？ 嗯，在
这种情况下，你接受过提供
天气信息的培训。
伟大的。
我们还可以在这里添加
类似“你会
以非常礼貌的方式回应”之类的内容。 你
拒绝回答有关政治的问题。
最好
在护栏内控制这种行为。 但您也可以
在代理人的说明中提供一些额外的指示
。 好的。
之后，我们将提供
一系列函数，其中包含我们
将用于处理的逻辑。 所以，
在这种情况下，函数已经
完成，已经准备就绪，我们将
使用这个模板。 这是一个开放
API 模板，该模板中包含了
代理
将要执行的操作。 此外，还有
工具的描述和 JSON
定义。
好的，
即使你使用的是 Alida
Alida 函数，该函数
无需
调用外部 API 即可提供完整的执行，你也必须
构建你的模板。 好的，这里有一个
非常简单的例子。 呃，这已经和
天气无关了。 早就该这样了。 我有
一个Lumbida功能，可以帮你查看
世界任何地方的时间。 所以我
选择了我的城市圣保罗，并询问它
圣保罗现在的日期和时间，结果是
11 月 26 日。
效果非常好。 这是在
界面中显示的内容。 我尝试在
基岩版代理的界面上做了一个测试。
好的。 记忆。
你们的记忆力好吗？
还是像鱼一样？
别人告诉你某件事后，3秒钟你就忘了。   在
这件事上，我感觉自己像条鱼，
因为时区
对我来说非常复杂。 但对于我们的特工来说，
拥有记忆力非常重要。
为什么？ 首先，因为
每次和
别人说话都要重复同样的话真的很烦人，对吧？
其次，
因为我们需要获取一些
信息才能继续进行
高质量的对话。
嗯，
当我们与基层代理商合作时，
比如在这种情况下，我们有一位旅行
助理。 我当时正在和这位
助理聊天。 我
明年想去西班牙旅行。 呃，你们能提供
每天最多 500 家酒店的房间吗？ 非常贵。
但对于
我们接下来的互动来说，代理人务必记住这一点。
所以，它可以给我提供更多
酒店列表，也许还有一些我可以
去的地方。
我们将分三步配置内存
第一步是启用内存。
这非常重要。 所以我们并不是
要把
过去互动中使用的每一个词都一一记录下来。 我们
将使用概括的方法。
所以，过去互动中的关键点如下
之后我们还有内存持续时间。
所以最长可达 365 天。 所以一年后，
我们将根据我们的
使用情况做出选择。 好的。 至少一天。
在用户使用我们代理的每次会话中
，我们还会选择
在该对话中加载多少个先前的会话
所以
如果这场对话发生很大变化的话。
所以每次有人在
不同的地方谈论不同的事物时，你都
必须了解
你将
与你的代理人进行的互动行为。 所以，在这种情况下，
加载较少数量的会话可能
更有利于更好地理解上下文。
好的。 所以，分三步走。
接下来是内联代理。
因此，内联代理的作用在于，当
我们需要
在每一次交互中提供工具、知识库和模型时，它们就能发挥作用。
因此，我们将使用调用内联代理 API 来
配置
此特定交互所需的内容。 在这种
情况下，就连指令也会改变。
所以我们有一位能为
Octank Inc. 员工提供帮助的助手，
也许是一位人力资源助理。
在这种情况下，我们将选择基础模型，即
四个
行动小组，他们将提供
我们将要用于
处理的工具。 另外，我们还要
说明，我们
将使用代码解释器来
处理我们使用 Python 编写的代码。 好的。
以及将要
发送给这些代理的输入文本。 所以这里的一切
都是动态的。 好的。
现在让我们来检查一下moo代理的
协作模式。
现在这种情况很正常，对吧？
这并非什么
新鲜事，但关于 Ajente Kaii 的一切都是
全新的。 但在许多应用中，仅仅
使用单个代理是不够的
。 我们需要专业的代理人来
执行各种任务。
在这种情况下，我有一个主管代理，
它将与两个
不同的三个不同的代理进行交互。
第一个代理将
使用基于输入信息的 lumbida 函数为我们起草一些合同
第二个步骤将检查
我们
可能在外部系统中已有的合同。
第三个工具可能拥有知识库，可以
搜索一些法律
信息，一些
我们为这位代理人需要的法律信息。
那么我们来检查一下代理是否正常工作。
在我的演示中，我没有同样的
法律合同示例，
因为我只记得我在
提交演示文稿后修改了演示。 所以，很
抱歉，但逻辑是一样的。
我们仍然有主管代理，但
在这个案例中，我们面对的是客户支持
场景。
我们的主管代理将收到这些
信息。 所以客户的
浏览器出现了错误。 顾客无法
使用终端，大概就是这样。
数据库无法正常运行。
我们拥有这些专业的代理人。 因此，
意图分类代理将
检查招揽信息并进行分类。 所以这
件事很紧急吗？ 是否需要联系
税务专家代理，还是
我们需要查阅内部政策
来回答这位客户的问题？
这位税务专家精通
科技方面的一切。
因此，它能够检查错误代码，
为客户自行
解决问题提供指导，或者将问题上报
给相关人员
和政策部门。
所以，我们已经有了两个
元素，对吧。 所以政策是，
由于您目前的职位，您不能拥有新款 MacBook。
另外，我们这里有支持案例
查询，因为这个支持案例可能
已经打开或正在处理，
有人已经在处理这位
客户了，需要给
客服人员一些指导。 由此可见，
这里已经建立了一个流程
。 我们没有使用基岩
流，但我们
在说明书中提供了所需的流量。
所以先发给分类代理。
因此，意图代理在检查
类别后，会调用
专门的代理。
呃，我们这里还有另一条指令，
它们没有，所以那是什么？我
不想让你在这里执行，
这是指令的其余部分，
所以你要如何回答？它是
高，就像 SE 5 SE 4 SE 3
SE 1 是危险的，所以它会检查
类似这样的政策和
指导（如果需要的话）。 所以，我们是在向
代理人解释我们
期望它的行为是什么。
我在主管代理上配置好之后
，还需要添加其他
代理。 所以，对于专门的代理，我这里举个
例子，意图
分类代理，它的
配置非常相似。 因此，我
需要提供说明，
以便在需要
确定客户请求的性质和类别时调用这些代理，
我们还有
该代理的专长领域。 因此，
本案例涉及系统技术问题、
资格问题、政策和
指南分类。
伟大的。 因此，我将把
这个代理附加到主管代理的配置中，
现在我们要检查是否
收到了票据。 因此，系统
超时问题影响了
管道的关闭。
它从早上 8 点 8 分 30 秒开始。
所以，所有工单的描述，
现在
我们首先调用主管代理，
然后是主管意图
分类。 所以我们已经找到了
我们需要的类别，并且可以看出
这是一个技术问题。 所以我们会
请税务专家来
解决我们的问题。 我们还可以查看
申请单的记录。 在
理性层面上，我得到了模型
认为能够提供答案的结果。 所以我
打算给这位经纪人打电话。 我将
根据申请单对请求进行分类
好吧，速度很快。 你想让我
重复播放这张幻灯片吗？ 可以吗？
因为呃，最初这张幻灯片有
七分钟，我想他们肯定
不愿意看七
分钟的视频。
接下来是流程。 我们当时
只是按照
指示做了一小段工作。 但是，如果我们想要
更高级、更
个性化的功能，比如可以
添加到备注或订单中，该怎么办呢？ 所以，采取某种
行动或采取另一种行动。 在这种
情况下，我们遇到的是基岩流。 所以，
基岩版中完全托管的功能允许
我们与不同的
构建模块进行交互。 所以，在这种情况下，除了 lambida
函数之外，我们还可以使用聊天机器人，为什么
不呢？lex 也在这里，可以
与特权配置知识库
以及提示模板集成。
所以有时候我们
只需要替换几个变量就能给出具体的答案
。 所以这里我们也提供了提示，也就是
提示模板。
这些就是我们要用的方块和笔记
。 我们有这个逻辑。 所以
它会协调
下一步流程将传递到哪个音符
。 我们将使用
知识库中的数据，可能是为了
直接从 S3 检索某些内容，或者
向 S3 写入某些内容。
代码。 所以，可以使用 Lumbida 函数来
执行逻辑，或者我们也可以在
这里使用代码解释器。
当然，代理商们也对，我们
将在此流程中注册。
流程输出中包含答案，
抱歉，在这种情况下我们有两个 API。
Badge Rock 代理 API 控制
流程的生命周期。
还有流程的运行时执行，
我这里还有一个非常简单的演示给你
。 这就是我们设想的情况。 我们
是一家公司的所有者，我们
将决定是否
提供贷款。
所以这就是
流程将要接收的输入主体。 好的。 所以，
这个人的收入，他所拥有的深度，嗯，需要
多少个月才能支付，
信用额度是多少。
第一步是调用lumbida
函数。 在这个 lumbida 函数中，我们
将进行计算以
检查该客户是否会被
批准。 所以这取决于结果。
所以，如果
贷款金额大于最高
可负担贷款额度，我们就需要满足一个条件。 所以，这是
这个人能够支付的最高金额。
我们会将此信息发送到
顶部的提示框。 所以，收入
与债务之间的关系，实际上对这个人来说并不是个好消息，
因为这份通知中包含了
拒贷信，
因为这个人将无法偿还
贷款。
但如果此条件不满足，我们
将向瓶中提示发送信息，
瓶中提示将
收到信息并致电
代理人，询问
该客户几个问题。 因此，为了帮助客户签订价格最低的合同，需要提出一些更具体的
问题
由于我们有两种不同的条件，所以也有两种不同的输出结果
所以我要提交这份意见。
好的，输入正在提交。
流程已经启动，
我们已经有了答案。 所以很
遗憾收到了拒信，
但在跟踪记录中我们可以查看
流程中发生的所有交互。
首先我们有笔记的配置，
然后是
本例中由
执行
计算的 lumbida 函数执行的操作。
我们可以检查
被调用的函数、该
函数的亚马逊资源名称以及有效
负载。
下面有标题代码。
是的，这是函数的别名。 现在
结果出来了。
确认批准条件后，
点击确定。
根据结果​​，
我们将发送下一份笔记。
所以，这就是拒信。
然后
使用 high3 生成拒绝信。
这是一个非常简单的使用案例。
说明书在
那边。
将被替换的变量。
所以，申请人姓名
和输出结果。
现在我们完成了流程，并检索了
客户所需的信息。
所以，在这种情况下，我们确实需要
执行每一个步骤才能得出
正确答案。 所以，如果流程不是
这样安排的，我们可能会
批准
不符合我们标准的人的贷款，因为这
一切都将完全取决于
代理人的指示。 这里我们采用了
一种更有结构性的方法，
现在我们有了代理核心。
代理核心，呃，我们正在谈论
很多代理核心，但这项服务
相当新，
我们使用了大约六个月。 我知道
昨天我们发布了两个关于代理核心的版本。
我还没来得及去查看
。 抱歉，如果您搜索
Danilo Ponia 的博客文章，您会
发现，好的，
现在我们需要更高程度的
定制化，
在这种情况下，我正在使用不同的
开源框架，并且我想将
这些框架添加到我的 Agent Core 中。
我知道
在座的各位都有自己偏好的模型和
框架，这
没关系，我也有自己的偏好，但对于 Agent
Core 来说，这并不重要，您可以
选择任何更适合您的框架。Agent
Core 采用模块化
架构构建，所以
它看起来像微服务
架构。
我们已经具备了执行环境。
当然，我们也有我们将要
使用的模型。 我们拥有
公开这些工具的渠道。 还可以使用
浏览器通过网站执行外部操作
。 这个代码
解释器
比我们之前讨论过的另一个更强大一些，它
能够控制
此流程中的安全性。 因此，对于入站
和出站
内容，以及观察可
观察性，
我们可以检查每个
组件、每个会话 ID 的行为是否符合
预期。
所以接下来
我们要检查这些模块。
第一个是运行时。
要使用运行时环境，首先我们
需要构建一个配方。
在这个食谱中，我们将选择模型
框架。 好的。 你想做什么都
可以。 还有运行时
装饰器。
那么，模型和代理必须如何
身份配置，这
取决于安全策略和
可观测性配置。 那么
我们将使用哪些指标呢？
这将被打包成一个 Docker 文件，
该 Docker 文件的镜像将成为
Elastic Container Registry 仓库 (ECR) 中的一个镜像仓库
当
我们申请代理时，运行时
环境将被启动，
而代理就位于运行时环境中
。 因此，有了指令、
逻辑、框架和模型，
我们就有了一个终点，而这个终点
将由另一个模块到达。 因此，
该环境下的网关模块在完成
所有需要处理的任务后，将
保持空闲状态 15 分钟。 如果
15分钟内没有任何反应，程序将
终止。
您可以
将此运行时间延长至最多
八小时。 好的，这是避免
冷启动的一种方法。
接下来是恒等式，恒
等式由两部分组成。
第一部分是入库，第二部分是
出库。 对于呼入电话，我们
将选择哪个提供商
需要首先向代理执行呼叫
。 所以，在
呼叫代理之前，
我们可以选择 AM 身份验证，可以
选择 Cognito，但我们也可以使用
身份验证提供商。
身份验证通过后，我们将被
授权执行
安全策略中规定的操作。
好的。 令牌
将存储在另一个组件中，
我们将在该组件中检查令牌。
那么，当代理要调用这个
外部工具时，
再次进行身份验证吗？ 不，没
必要。 在这种情况下，会发生
代币互换。 所以就像……
就像一种信任……
行动。 这样您就拥有了
授权调用代理的令牌。 所以我
要帮你换一个新的代币。
所以你可以调用外部工具。
但是，如果我通过 AM 进行身份验证，
现在要调用外部工具，我需要
使用 onoff 开关，该怎么办？
我不能直接交换令牌。 在
这种情况下，
代理会检查您是否已经
获得入站批准，
并生成一个更
适合其他身份验证
系统的令牌。 好的。
但是，如果我们在 AWS 内部工作，我们
可以使用 aim sign v4 来调用 alida
函数。 例如，
网关。
网关组件将
存储身份模型提供的安全令牌，
并公开相关
工具。 所以我们要注册的 MCP 服务器，
也就是网关，也
可以调用内部工具或
外部工具。 好的。
网关中有一个非常有趣的配置，
因为
我们可以更改路由选项。 我们
或许可以只用关键词来做这件事，为什么
不呢？ 但也可以通过意图和语义
搜索来
记忆。
因此，对于我们的客服人员来说，
记住过去的互动固然重要，但
记住会话激活时的互动也同样重要
。 因此，在这种情况下，我们将能够
配置短期存储器和
长期存储器。
在长期记忆中，我们仍然可以
记住长达 36 年、30 年的
背景信息，对吧？
在这种情况下，我们将选择
您想要存储的内容。 您是否要
保存
对话摘要？
好的。 它适用于大多数使用场景，
但您也可以存储用户
偏好设置。 那么，我们假设
有人想买一部
新手机。
这个人之前说过他喜欢
粉色的手机，最好是
拥有最先进的技术、
音质好、摄像头也好的那种。 已经
提供了这类偏好。 所以，
如果我们在和
类似商店的东西打交道，那我们就是在工作。
保存用户偏好设置会很方便。
该摘要适用于大多数使用场景，
但对于具体情况，我们也会考虑用户的
偏好。 还有
语义记忆。
在这种情况下，将存储类似的上下文
。 接下来是
存储内部，存储是无服务器的，
您无需考虑
配置 S3 存储桶或提供
Dynamobo 表。 代理核心会
为你处理这一切。
我们需要在浏览器中从互联网复制一些内容
。 我们需要对
特定网站进行特定浏览器窗口的屏幕截图。 所以，在这种情况下，我们
将使用无头浏览器。
嗯，Playright 与 Selenium 非常相似，可以
为我们执行这些操作。
它也是无服务器的。 这里的所有功能
都是无服务器的。 所以，在这种情况下，它将
启动一个隔离的会话。 好的。
在这个会话中，我们可以检查
系统正在
执行的操作。 如果需要，我们可以传输
网页浏览器数据并在我们的本地服务器上进行检查
因此，我们可以看到代理正在输入、复制、
截屏（如果
需要的话），我们可以使用
nova act 来传递这些
信息，并且可以使用 DCV 来
检查 Web 浏览器的流。
所以，在这种情况下，llm 不会
操作该对象。 该对象将
像文档一样传递。 因此，
计算机工具调用将被转换为
CDP 注释，然后它将在
这个无头浏览器中执行。 所以，
这里我们需要点击
网页浏览器中这个特定位置的左侧按钮来执行操作。
之后会将邮件退回给代理商
。 当我们
在浏览器中打开会话时，它还会
生成一个分配的 URL，即一个用于
在此浏览器中执行操作的临时 URL，我们可以
使用 API 检查此 URL。
接下来是代码解释器，
我们可以用
两种不同的方法使用代码解释器。 第一个
是系统提供商。 所以，在这种情况下，
我们将使用
Python、JavaScript 和
TypeScript 的默认库。
我们还可以访问终端，
而您正在查看的这个文件系统
是临时的。 因此，
会话结束后，即
此浏览器中所需的所有交互都
结束后，文件系统将
被删除。 好的，它不会
在会话之间保留。
所以，我们在这个微型虚拟机中运行着这个系统，
它会执行请求并将
请求返回给代理。 如果
需要使用更多自定义
库，您可以将
依赖项打包并在
自定义代码解释器中使用它。 这样也完全没问题
。 最后，我们还有可
观测性。
在可观测性方面，我们在
云服务内部有 genai 仪表板。
在这个控制面板中，我们可以查看
我们正在使用的代理。 我们
还可以在代理内部检查
活动会话 ID。 此外，
我们还可以查看会话 ID 中的更细粒度数据。
了解
代理是否真的按照
我们预期的方式行事非常重要，因为我们可以看到
它不是一个很小的
生态系统。 我们有多个运转部件，
而我们只负责监控。 我们将观察它是否
按预期运行。
在这种情况下，我有 168 个会话。 我们
也可以检查痕迹。 如果您需要，我们可以
通过其他 API 查看遥测数据
。   好了
，本次
课程就到这里。 呃，如果
你有什么问题，我
忙完手头的事情后可以回答。 这里还有
开发者社区展馆。 我
昨天在那里。 很棒的地方。
今年的博览会太棒了。
如果您想在活动期间玩游戏
，您还可以
在展会中找到游戏化区域，并尝试
赢得云任务锦标赛和游戏
锦标赛。
如果你想了解更多关于
云计算的知识，技能提升平台内现在有超过
六千个免费培训课程
技能提升方面也提供免费的游戏化元素，
希望您喜欢我们这部分内容。
太感谢了。